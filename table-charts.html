<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DI - Table Charts Master Bank</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --primary: #1e293b;
            --bg: #f1f5f9;
            --card: #ffffff;
            --accent: #2563eb;
            --correct: #10b981;
            --wrong: #ef4444;
            --text: #334155;
        }

        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: auto; }
        .back-link { text-decoration: none; color: var(--accent); font-weight: bold; margin-bottom: 15px; display: inline-block; }

        .data-card {
            background: var(--card);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin-bottom: 25px;
        }

        .table-wrapper { overflow-x: auto; margin: 15px 0; border: 1px solid #e2e8f0; border-radius: 8px; }
        table { width: 100%; border-collapse: collapse; font-size: 0.8rem; background: #fff; }
        th, td { border: 1px solid #e2e8f0; padding: 8px; text-align: center; }
        th { background: #f8fafc; color: var(--primary); font-weight: 700; }
        .sub-head { background: #f1f5f9; font-size: 0.7rem; }

        .quiz-section { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .q-meta { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .set-tag { background: #dbeafe; color: #1e40af; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; }
        .question-text { font-size: 1.15rem; font-weight: 600; margin-bottom: 20px; line-height: 1.5; }
        
        .options-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; }
        .opt-btn { padding: 14px; border: 1px solid #cbd5e1; border-radius: 8px; background: white; cursor: pointer; text-align: left; font-size: 0.95rem; }
        .opt-btn:hover:not(:disabled) { border-color: var(--accent); background: #f8fafc; }
        .opt-btn.correct { background: var(--correct) !important; color: white; border-color: var(--correct); }
        .opt-btn.wrong { background: var(--wrong) !important; color: white; border-color: var(--wrong); }

        .explanation { margin-top: 20px; padding: 15px; background: #f0fdf4; border-left: 4px solid var(--correct); display: none; }
        .controls { display: flex; justify-content: space-between; margin-top: 25px; gap: 15px; }
        .btn { padding: 12px 25px; border-radius: 8px; border: none; background: var(--primary); color: white; cursor: pointer; font-weight: 600; }
        .btn-next { background: var(--accent); }
    </style>
</head>
<body>

<div class="container">
    <a href="data-intrepretation.html" class="back-link">← Back to Portal</a>
    <div id="table-display"></div>
    <div class="quiz-section">
        <div class="q-meta">
            <span class="set-tag" id="set-id">SET 1</span>
            <span id="q-count" style="font-size: 0.9rem; color: #64748b;">Question 1 / 5</span>
        </div>
        <div class="question-text" id="q-text"></div>
        <div id="opt-container" class="options-grid"></div>
        <div id="exp-box" class="explanation"></div>
        <div class="controls">
            <button class="btn" onclick="move(-1)" id="prev-btn">Previous</button>
            <button class="btn btn-next" onclick="move(1)" id="next-btn">Next Question</button>
        </div>
    </div>
</div>

<script>
const dataBank = [
    {
        title: "1. Expenditures of a Company (in Lakh Rupees)",
        table: `<table><tr><th>Year</th><th>Salary</th><th>Fuel & Trans</th><th>Bonus</th><th>Interest</th><th>Taxes</th></tr>
                <tr><td>1998</td><td>288</td><td>98</td><td>3.00</td><td>23.4</td><td>83</td></tr>
                <tr><td>1999</td><td>342</td><td>112</td><td>2.52</td><td>32.5</td><td>108</td></tr>
                <tr><td>2000</td><td>324</td><td>101</td><td>3.84</td><td>41.6</td><td>74</td></tr>
                <tr><td>2001</td><td>336</td><td>133</td><td>3.68</td><td>36.4</td><td>88</td></tr>
                <tr><td>2002</td><td>420</td><td>142</td><td>3.96</td><td>49.4</td><td>98</td></tr></table>`,
        questions: [
            { q: "What is the average amount of interest per year which the company had to pay during this period?", opts: ["Rs. 32.43 lakhs", "Rs. 33.72 lakhs", "Rs. 34.18 lakhs", "Rs. 36.66 lakhs"], ans: 3, exp: "Total=183.3. Average=183.3/5 = 36.66" },
            { q: "Total bonus paid is approx what percent of total salary paid?", opts: ["0.1%", "0.5%", "1%", "1.25%"], ans: 2, exp: "Total Bonus=17. Total Salary=1710. (17/1710)*100 ≈ 1%" },
            { q: "Total expenditure in 1998 was approx what percent of 2002?", opts: ["62%", "66%", "69%", "71%"], ans: 2, exp: "1998 Total=495.4. 2002 Total=713.36. Ratio ≈ 69%" },
            { q: "Total expenditure during the year 2000 is?", opts: ["Rs. 544.44 lakhs", "Rs. 501.11 lakhs", "Rs. 446.46 lakhs", "Rs. 478.87 lakhs"], ans: 0, exp: "324+101+3.84+41.6+74 = 544.44" },
            { q: "Ratio between total Taxes and total Fuel & Transport?", opts: ["4:7", "10:13", "15:18", "5:8"], ans: 1, exp: "Taxes=451. Fuel=586. 451:586 ≈ 10:13" }
        ]
    },
    {
        title: "2. Candidates Appeared and Qualified from Different States",
        table: `<table><tr><th rowspan="2">State</th><th colspan="2">1997</th><th colspan="2">1998</th><th colspan="2">1999</th><th colspan="2">2000</th><th colspan="2">2001</th></tr>
                <tr class="sub-head"><td>App.</td><td>Qual.</td><td>App.</td><td>Qual.</td><td>App.</td><td>Qual.</td><td>App.</td><td>Qual.</td><td>App.</td><td>Qual.</td></tr>
                <tr><td>M</td><td>5200</td><td>720</td><td>8500</td><td>980</td><td>7400</td><td>850</td><td>6800</td><td>775</td><td>9500</td><td>1125</td></tr>
                <tr><td>N</td><td>7500</td><td>840</td><td>9200</td><td>1050</td><td>8450</td><td>920</td><td>9200</td><td>980</td><td>8800</td><td>1020</td></tr>
                <tr><td>P</td><td>6400</td><td>780</td><td>8800</td><td>1020</td><td>7800</td><td>890</td><td>8750</td><td>1010</td><td>9750</td><td>1250</td></tr>
                <tr><td>Q</td><td>8100</td><td>950</td><td>9500</td><td>1240</td><td>8700</td><td>980</td><td>9700</td><td>1200</td><td>8950</td><td>995</td></tr>
                <tr><td>R</td><td>7800</td><td>870</td><td>7600</td><td>940</td><td>9800</td><td>1350</td><td>7600</td><td>945</td><td>7990</td><td>885</td></tr></table>`,
        questions: [
            { q: "Total qualified in 1997 is approx what % of total qualified in 1998?", opts: ["72%", "77%", "80%", "83%"], ans: 2, exp: "Total 97 Qual=4160. Total 98 Qual=5230. 4160/5230 ≈ 80%" },
            { q: "Average candidates appeared from State Q during the given years?", opts: ["8700", "8760", "8990", "8920"], ans: 2, exp: "(8100+9500+8700+9700+8950)/5 = 8990" },
            { q: "In which year did State P have maximum percentage of qualified candidates?", opts: ["1997", "1998", "1999", "2001"], ans: 3, exp: "2001: (1250/9750)*100 = 12.82% (Highest)" },
            { q: "Percentage of candidates qualified from State N for all years combined?", opts: ["12.36%", "12.16%", "11.47%", "11.15%"], ans: 2, exp: "Total Qual N=4810. Total App N=41950. % = 11.47" },
            { q: "Percentage of total qualified to total appeared among all states in 1999?", opts: ["11.49%", "11.84%", "12.21%", "12.57%"], ans: 1, exp: "Total Qual 99=4990. Total App 99=42150. % = 11.84" },
            { q: "Combining P and Q in 1998, percentage of qualified to appeared?", opts: ["10.87%", "11.49%", "12.35%", "12.54%"], ans: 2, exp: "Qual(1020+1240) / App(8800+9500) = 2260/18300 = 12.35%" }
        ]
    },
    {
        title: "3. Marks Obtained by Students in Different Subjects",
        table: `<table><tr><th>Student</th><th>Maths(150)</th><th>Chem(130)</th><th>Phys(120)</th><th>Geo(100)</th><th>Hist(60)</th><th>Comp(40)</th></tr>
                <tr><td>Ayush</td><td>90</td><td>50</td><td>90</td><td>60</td><td>70</td><td>80</td></tr>
                <tr><td>Aman</td><td>100</td><td>80</td><td>80</td><td>40</td><td>80</td><td>70</td></tr>
                <tr><td>Sajal</td><td>90</td><td>60</td><td>70</td><td>70</td><td>90</td><td>70</td></tr>
                <tr><td>Rohit</td><td>80</td><td>65</td><td>80</td><td>80</td><td>60</td><td>60</td></tr>
                <tr><td>Muskan</td><td>80</td><td>65</td><td>85</td><td>95</td><td>50</td><td>90</td></tr>
                <tr><td>Tanvi</td><td>70</td><td>75</td><td>65</td><td>85</td><td>40</td><td>60</td></tr>
                <tr><td>Tarun</td><td>65</td><td>35</td><td>50</td><td>77</td><td>80</td><td>80</td></tr></table>`,
        questions: [
            { q: "Average marks obtained by all seven students in Physics?", opts: ["77.26", "89.14", "91.37", "96.11"], ans: 1, exp: "Sum of % in Phys=520. Average % = 74.28%. Marks = 0.7428 * 120 = 89.14" },
            { q: "Number of students who obtained 60% and above in ALL subjects?", opts: ["1", "2", "3", "None"], ans: 1, exp: "Sajal and Rohit (2 students)" },
            { q: "What was the aggregate of marks obtained by Sajal in all subjects?", opts: ["409", "419", "429", "449"], ans: 3, exp: "Calculated Marks: 135+78+84+70+54+28 = 449" },
            { q: "In which subject is the overall percentage the best?", opts: ["Maths", "Chemistry", "Physics", "History"], ans: 0, exp: "Compare averages: Maths has the highest total % points." },
            { q: "What is the overall percentage of Tarun?", opts: ["52.5%", "55%", "60%", "63%"], ans: 3, exp: "Total marks=315. Total Max=500. 315/500 = 63%" }
        ]
    },
    {
        title: "4. Classification of 100 Students Based on Marks",
        table: `<table><tr><th>Subject</th><th>40+</th><th>30+</th><th>20+</th><th>10+</th><th>0+</th></tr>
                <tr><td>Physics</td><td>9</td><td>32</td><td>80</td><td>92</td><td>100</td></tr>
                <tr><td>Chemistry</td><td>4</td><td>21</td><td>66</td><td>81</td><td>100</td></tr>
                <tr><td>Aggregate</td><td>7</td><td>27</td><td>73</td><td>87</td><td>100</td></tr></table>`,
        questions: [
            { q: "Difference between students with 30 cut-off in Chem and 30 cut-off in Aggregate?", opts: ["3", "4", "5", "6"], ans: 3, exp: "27 - 21 = 6" },
            { q: "Students eligible for higher studies in Physics (requires 60% = 30 marks)?", opts: ["27", "32", "34", "41"], ans: 1, exp: "Look at Physics 30 and above = 32" },
            { q: "Percentage of students with 60% in Chem over 40% in Aggregate?", opts: ["21%", "27%", "29%", "31%"], ans: 2, exp: "Chem 60%(30+)=21. Agg 40%(20+)=73. 21/73 ≈ 29%" },
            { q: "Number of students scoring less than 40% marks in aggregate?", opts: ["13", "19", "20", "27"], ans: 3, exp: "40% of 50 = 20. Less than 20 = Total - (20 and above) = 100 - 73 = 27" },
            { q: "If 23 students eligible for Chem Symposium, qualifying marks lie in range?", opts: ["40-45", "30-40", "20-30", "Below 20"], ans: 1, exp: "21 students at 30+. 66 students at 20+. 23rd student is in the 30-40 range." }
        ]
    },
    {
        title: "5. Candidates from Delhi, H.P, U.P, Punjab and Haryana",
        table: `<table style="font-size:0.7rem;"><tr><th rowspan="2">Year</th><th colspan="3">Delhi</th><th colspan="3">H.P</th><th colspan="3">U.P</th><th colspan="3">Punjab</th><th colspan="3">Haryana</th></tr>
                <tr class="sub-head"><td>App</td><td>Qual</td><td>Sel</td><td>App</td><td>Qual</td><td>Sel</td><td>App</td><td>Qual</td><td>Sel</td><td>App</td><td>Qual</td><td>Sel</td><td>App</td><td>Qual</td><td>Sel</td></tr>
                <tr><td>1997</td><td>8000</td><td>850</td><td>94</td><td>7800</td><td>810</td><td>82</td><td>7500</td><td>720</td><td>78</td><td>8200</td><td>680</td><td>85</td><td>6400</td><td>700</td><td>75</td></tr>
                <tr><td>1998</td><td>4800</td><td>500</td><td>48</td><td>7500</td><td>800</td><td>65</td><td>5600</td><td>620</td><td>85</td><td>6800</td><td>600</td><td>70</td><td>7100</td><td>650</td><td>75</td></tr>
                <tr><td>1999</td><td>7500</td><td>640</td><td>82</td><td>7400</td><td>560</td><td>70</td><td>4800</td><td>400</td><td>48</td><td>6500</td><td>525</td><td>65</td><td>5200</td><td>350</td><td>55</td></tr>
                <tr><td>2000</td><td>9500</td><td>850</td><td>90</td><td>8800</td><td>920</td><td>86</td><td>7000</td><td>650</td><td>70</td><td>7800</td><td>720</td><td>84</td><td>6400</td><td>540</td><td>60</td></tr>
                <tr><td>2001</td><td>9000</td><td>800</td><td>70</td><td>7200</td><td>850</td><td>75</td><td>8500</td><td>950</td><td>80</td><td>5700</td><td>485</td><td>60</td><td>4500</td><td>600</td><td>75</td></tr></table>`,
        questions: [
            { q: "Which state has the maximum average number of candidates selected?", opts: ["Delhi", "H.P", "U.P", "Punjab"], ans: 1, exp: "Sum of Selected: Delhi=384, H.P=378... Delhi/H.P are close. H.P average is consistently high." },
            { q: "Qual/App percentage in Punjab is highest in which year?", opts: ["1997", "1998", "1999", "2000"], ans: 3, exp: "2000: (720/7800)*100 = 9.23%" },
            { q: "1997 lowest percentage selected over appeared?", opts: ["Delhi", "H.P", "U.P", "Punjab"], ans: 2, exp: "U.P: (78/7500) = 1.04% (Lowest)" },
            { q: "Haryana selected as % of Delhi selected over the period?", opts: ["79.5%", "81%", "84.5%", "88.5%"], ans: 3, exp: "Haryana Total Sel=340. Delhi Total Sel=384. 340/384 ≈ 88.5%" }
        ]
    },
    {
        title: "6. Sales of Batteries Manufactured by a Company",
        table: `<table><tr><th>Year</th><th>4AH</th><th>7AH</th><th>32AH</th><th>35AH</th><th>55AH</th><th>Total</th></tr>
                <tr><td>1992</td><td>75</td><td>144</td><td>114</td><td>102</td><td>108</td><td>543</td></tr>
                <tr><td>1993</td><td>90</td><td>126</td><td>102</td><td>84</td><td>126</td><td>528</td></tr>
                <tr><td>1994</td><td>96</td><td>114</td><td>75</td><td>105</td><td>135</td><td>525</td></tr>
                <tr><td>1995</td><td>105</td><td>90</td><td>150</td><td>90</td><td>75</td><td>510</td></tr>
                <tr><td>1996</td><td>90</td><td>75</td><td>135</td><td>75</td><td>90</td><td>465</td></tr>
                <tr><td>1997</td><td>105</td><td>60</td><td>165</td><td>45</td><td>120</td><td>495</td></tr>
                <tr><td>1998</td><td>115</td><td>85</td><td>160</td><td>100</td><td>145</td><td>605</td></tr></table>`,
        questions: [
            { q: "Approximate percentage increase in sales of 55AH in 1998 compared to 1992?", opts: ["28%", "31%", "33%", "34%"], ans: 3, exp: "(145-108)/108 * 100 = 34.25%" },
            { q: "Total sales of all seven years is maximum for which battery?", opts: ["4AH", "7AH", "32AH", "35AH"], ans: 2, exp: "32AH total is the highest sum." },
            { q: "Difference in 35AH batteries sold in 1993 and 1997?", opts: ["24000", "28000", "35000", "39000"], ans: 3, exp: "(84 - 45) = 39. In thousands = 39000" },
            { q: "Year where 4AH sales to Total sales was maximum?", opts: ["1994", "1995", "1996", "1997"], ans: 3, exp: "1997: 105/495 = 21.2%" },
            { q: "Which battery saw a continuous decrease in sales from 1992 to 1997?", opts: ["4AH", "7AH", "32AH", "35AH"], ans: 1, exp: "7AH: 144 > 126 > 114 > 90 > 75 > 60" }
        ]
    }
];

let setIdx = 0, qIdx = 0;

function load() {
    const s = dataBank[setIdx], q = s.questions[qIdx];
    document.getElementById('table-display').innerHTML = `<div class="data-card"><h2>${s.title}</h2><div class="table-wrapper">${s.table}</div></div>`;
    document.getElementById('set-id').innerText = `SET ${setIdx + 1}`;
    document.getElementById('q-count').innerText = `Question ${qIdx + 1} / ${s.questions.length}`;
    document.getElementById('q-text').innerText = q.q;
    const cont = document.getElementById('opt-container'); cont.innerHTML = '';
    q.opts.forEach((o, i) => {
        const b = document.createElement('button'); b.className = 'opt-btn'; b.innerText = o;
        b.onclick = () => {
            const all = document.querySelectorAll('.opt-btn'); all.forEach(x => x.disabled = true);
            if(i === q.ans) b.classList.add('correct'); else { b.classList.add('wrong'); all[q.ans].classList.add('correct'); }
            document.getElementById('exp-box').innerHTML = `<strong>Explanation:</strong> ${q.exp}`;
            document.getElementById('exp-box').style.display = 'block';
        };
        cont.appendChild(b);
    });
    document.getElementById('exp-box').style.display = 'none';
}

function move(n) {
    qIdx += n;
    if(qIdx < 0) { if(setIdx > 0) { setIdx--; qIdx = dataBank[setIdx].questions.length - 1; } else qIdx = 0; }
    else if(qIdx >= dataBank[setIdx].questions.length) { if(setIdx < dataBank.length - 1) { setIdx++; qIdx = 0; } else qIdx = dataBank[setIdx].questions.length - 1; }
    load();
}
load();
</script>
</body>
</html>