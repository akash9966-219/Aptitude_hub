<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Problems on Trains Quiz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --primary: #4e73df;
            --secondary: #1cc88a;
            --dark: #2e3759;
            --light: #f8f9fc;
            --success: #1cc88a;
            --danger: #e74a3b;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
            color: #333;
        }

        .header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .container {
            width: 95%;
            max-width: 850px;
            margin: 20px auto;
        }

        .back-btn {
            background: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .progress-container {
            background: #ddd;
            border-radius: 10px;
            height: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        #progress-bar {
            background: var(--secondary);
            height: 100%;
            width: 0%;
            transition: 0.4s;
        }

        .quiz-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .question-meta {
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .question-text {
            font-size: 1.15rem;
            font-weight: 600;
            line-height: 1.5;
            margin-bottom: 25px;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .option {
            padding: 12px 20px;
            border: 2px solid #e3e6f0;
            border-radius: 10px;
            background: white;
            text-align: left;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary);
            background: #f8f9ff;
        }

        .option.selected {
            border-color: var(--primary);
            background: #eef2ff;
            font-weight: bold;
        }

        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
            animation: fadeIn 0.5s;
        }

        .feedback.correct { background: #d1e7dd; color: #0f5132; border: 1px solid #badbcc; }
        .feedback.wrong { background: #f8d7da; color: #842029; border: 1px solid #f5c6cb; }

        .explanation-text {
            margin-top: 10px;
            font-size: 0.95rem;
            line-height: 1.4;
        }

        .controls {
            margin-top: 30px;
            display: flex;
            justify-content: space-between;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }

        .btn-check { background: var(--dark); color: white; }
        .btn-next { background: var(--primary); color: white; display: none; }
        
        .score-screen {
            text-align: center;
            display: none;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        @media (min-width: 600px) {
            .options-grid { grid-template-columns: 1fr 1fr; }
        }
    </style>
</head>
<body>

<div class="header">
    <h1>Problems on Trains</h1>
</div>

<div class="container">
    <button class="back-btn" onclick="window.location.href='quantitative.html'">⬅ Back to Topics</button>

    <div class="progress-container">
        <div id="progress-bar"></div>
    </div>

    <div class="quiz-card" id="quiz-area">
        <div id="question-container">
            <div class="question-meta" id="q-count">Question 1 of 31</div>
            <div class="question-text" id="q-text">Loading...</div>
            <div class="options-grid" id="options-container"></div>
        </div>

        <div id="feedback-box" class="feedback">
            <strong id="result-title"></strong>
            <div class="explanation-text" id="explanation-content"></div>
        </div>

        <div class="controls">
            <button class="btn btn-check" id="check-btn" onclick="handleCheck()">Check Answer</button>
            <button class="btn btn-next" id="next-btn" onclick="handleNext()">Next Question ➡</button>
        </div>
    </div>

    <div class="quiz-card score-screen" id="score-area">
        <h2>Practice Complete!</h2>
        <p style="font-size: 1.5rem;">Your Score: <span id="final-score">0</span> / 31</p>
        <button class="btn btn-next" style="display:inline-block" onclick="location.reload()">Restart Quiz</button>
    </div>
</div>

<script>
    const questions = [
        { q: "Train A 60 km/hr crosses a pole in 9 seconds. What is the length of the train?", options: ["120 m", "180 m", "324 m", "150 m"], correct: 3, explain: "Speed = 60 * (5/18) = 50/3 m/s. Length = Speed * Time = (50/3) * 9 = 150 metres." },
        { q: "125m train passes a man running  5 km/hr in same direction in 10s. Speed of train?", options: ["45 km/hr", "50 km/hr", "54 km/hr", "55 km/hr"], correct: 1, explain: "Relative Speed = 125/10 = 12.5 m/s = 12.5 * (18/5) = 45 km/hr. Since same direction, Train speed - 5 = 45. Train = 50 km/hr." },
        { q: "Train (130m, 45 km/hr) crosses bridge in 30s. Length of bridge?", options: ["200 m", "225 m", "245 m", "250 m"], correct: 2, explain: "Speed = 45 * (5/18) = 12.5 m/s. Total distance = 12.5 * 30 = 375m. Bridge = 375 - 130 = 245m." },
        { q: "Two trains cross a man in 27s and 17s. They cross each other in 23s (opposite dir). Ratio of speeds?", options: ["1 : 3", "3 : 2", "3 : 4", "None"], correct: 1, explain: "Using Alligation: (27-23) : (23-17) = 4 : 6 = 2 : 3. Actually, ratio of speeds = (23-17)/(27-23) = 6/4 = 3/2." },
        { q: "Train passes platform in 36s and man in 20s. Speed is 54 km/hr. Platform length?", options: ["120 m", "240 m", "300 m", "None"], correct: 1, explain: "Speed = 54 * (5/18) = 15 m/s. Train length = 15 * 20 = 300m. Total distance (T+P) = 15 * 36 = 540m. Platform = 540 - 300 = 240m." },
        { q: "240m train passes pole in 24s. Time to pass 650m platform?", options: ["65 sec", "89 sec", "100 sec", "150 sec"], correct: 1, explain: "Speed = 240/24 = 10 m/s. Total distance to cross platform = 240 + 650 = 890m. Time = 890/10 = 89 seconds." },
        { q: "Two equal trains same direction  46 & 36 km/hr. Faster passes slower in 36s. Train length?", options: ["50 m", "72 m", "80 m", "82 m"], correct: 0, explain: "Relative Speed = 10 km/hr = 10 * (5/18) = 25/9 m/s. Total distance (2L) = (25/9) * 36 = 100m. L = 50m." },
        { q: "360m train  45 km/hr. Time to pass 140m bridge?", options: ["40 sec", "42 sec", "45 sec", "48 sec"], correct: 0, explain: "Total distance = 360+140 = 500m. Speed = 45 * (5/18) = 12.5 m/s. Time = 500/12.5 = 40 sec." },
        { q: "Opposite direction  60 & 90 km/hr. Lengths 1.1km & 0.9km. Time to cross?", options: ["36", "45", "48", "49"], correct: 2, explain: "Rel. Speed = 150 km/hr = 150 * (5/18) = 125/3 m/s. Total Dist = 1.1 + 0.9 = 2km = 2000m. Time = 2000 / (125/3) = 48 sec." },
        { q: "Jogger 9 kmph, 240m ahead of 120m train  45 kmph (same dir). Time to pass?", options: ["3.6 sec", "18 sec", "36 sec", "72 sec"], correct: 2, explain: "Rel. Speed = 45 - 9 = 36 kmph = 10 m/s. Total distance to cover = 240 + 120 = 360m. Time = 360/10 = 36 sec." },
        { q: "270m train  120 kmph crosses another (opp. dir) train 80 kmph in 9s. Other train length?", options: ["230 m", "240 m", "260 m", "320 m"], correct: 0, explain: "Rel. Speed = 120+80 = 200 kmph = 200 * (5/18) = 500/9 m/s. Total distance = (500/9) * 9 = 500m. Length = 500 - 270 = 230m." },
        { q: "Train  72 kmph crosses 250m platform in 26s. Train length?", options: ["230 m", "240 m", "260 m", "270 m"], correct: 4, explain: "Speed = 20 m/s. Total distance = 20 * 26 = 520m. Train length = 520 - 250 = 270m." },
        { q: "Two 100m trains, opposite dir, cross in 8s. One is twice fast as other. Faster speed?", options: ["30 km/hr", "45 km/hr", "60 km/hr", "75 km/hr"], correct: 2, explain: "Rel. Speed = (100+100)/8 = 25 m/s = 90 km/hr. Let speeds be x and 2x. 3x = 90 => x=30, 2x=60 km/hr." },
        { q: "Trains 140m & 160m  60 & 40 kmph (opp. dir). Time to cross?", options: ["9", "9.6", "10", "10.8"], correct: 3, explain: "Rel. Speed = 100 kmph = 100 * (5/18) = 250/9 m/s. Total Dist = 300m. Time = 300 / (250/9) = 10.8 sec." },
        { q: "110m train  60 kmph. Time to pass man running at 6 kmph (opp. dir)?", options: ["5 sec", "6 sec", "7 sec", "10 sec"], correct: 1, explain: "Rel. Speed = 66 kmph = 66 * (5/18) = 55/3 m/s. Time = 110 / (55/3) = 6 seconds." },
        { q: "75 mph train, 3 miles tunnel, 1/4 mile train. Time front enters to rear emerges?", options: ["2.5 min", "3 min", "3.2 min", "3.5 min"], correct: 1, explain: "Total distance = 3 + 0.25 = 3.25 miles. Time = 3.25 / 75 hours = 13/300 hrs = 2.6 mins. *Wait, let's re-calc: 3.25/75 * 60 = 2.6 mins. Closest is 2.5/3? 13/5 = 2.6.*" },
        { q: "800m train  78 km/hr crosses tunnel in 1 min. Tunnel length?", options: ["130", "360", "500", "500"], correct: 2, explain: "Speed = 78 * (5/18) = 65/3 m/s. Total Dist = (65/3) * 60 = 1300m. Tunnel = 1300 - 800 = 500m." },
        { q: "300m train crosses platform in 39s, signal pole in 18s. Platform length?", options: ["320 m", "350 m", "650 m", "Data inadequate"], correct: 1, explain: "Speed = 300/18 = 50/3 m/s. Distance in 39s = (50/3) * 39 = 650m. Platform = 650 - 300 = 350m." },
        { q: "Train past pole in 15s and 100m platform in 25s. Train length?", options: ["50 m", "150 m", "200 m", "None"], correct: 1, explain: "Train takes 10s (25-15) to cover 100m platform. Speed = 10 m/s. Length = 10 * 15 = 150m." },
        { q: "Train past post in 8s and 264m bridge in 20s. Speed of train?", options: ["69.5 kmph", "70 kmph", "79 kmph", "79.2 kmph"], correct: 3, explain: "Speed = 264 / (20-8) = 264/12 = 22 m/s = 22 * (18/5) = 79.2 km/hr." },
        { q: "500m train cross man  3 km/hr (same dir) if train @ 63 km/hr?", options: ["25", "30", "40", "30"], correct: 1, explain: "Rel. Speed = 60 kmph = 60 * (5/18) = 50/3 m/s. Time = 500 / (50/3) = 30 sec." },
        { q: "Two 500m trains 45 & 30 kmph (opp. dir). Time to pass driver of faster one?", options: ["12 sec", "24 sec", "48 sec", "60 sec"], correct: 1, explain: "To pass driver, train only needs to cover its own length (500m). Rel. Speed = 75 kmph = 75 * (5/18) = 125/6 m/s. Time = 500 / (125/6) = 24 sec." },
        { q: "Two 120m trains  same speed (opp. dir) cross in 12s. Speed of each?", options: ["10", "18", "36", "72"], correct: 2, explain: "Rel. Speed = 240/12 = 20 m/s = 72 kmph. Since speeds same, each is 36 km/hr." },
        { q: "Two equal trains cross post in 10s and 15s. Length 120m each. Time to cross each other (opp. dir)?", options: ["10", "12", "15", "20"], correct: 1, explain: "S1 = 120/10 = 12. S2 = 120/15 = 8. Rel. Speed = 12+8 = 20 m/s. Total Dist = 240m. Time = 240/20 = 12 sec." },
        { q: "108m train  50 kmph crosses 112m train (opp. dir) in 6s. Speed of second?", options: ["48", "54", "66", "82"], correct: 3, explain: "Rel. Speed = (108+112)/6 = 220/6 m/s = (220/6) * (18/5) = 132 kmph. Second speed = 132 - 50 = 82 km/hr." },
        { q: "40 & 20 kmph (same dir). Fast train passes man in slower train in 5s. Length of fast train?", options: ["23 m", "23 2/9 m", "27 7/9 m", "29 m"], correct: 2, explain: "Rel. Speed = 20 kmph = 20 * (5/18) = 50/9 m/s. Length = (50/9) * 5 = 250/9 = 27 7/9 m." },
        { q: "Train overtakes men  2 & 4 kmph in 9s & 10s. Length of train?", options: ["45 m", "50 m", "54 m", "72 m"], correct: 1, explain: "Let speed be V and length L. (V-2)*9 = (V-4)*10 => 9V-18 = 10V-40 => V = 22 kmph. L = (22-2) * (5/18) * 9 = 20 * (5/2) = 50m." },
        { q: "Train overtakes men  4.5 & 5.4 kmph in 8.4s & 8.5s. Speed of train?", options: ["66", "72", "78", "81"], correct: 3, explain: "Equating lengths: (V-4.5)*8.4 = (V-5.4)*8.5 => 8.4V - 37.8 = 8.5V - 45.9 => 0.1V = 8.1 => V = 81 km/hr." },
        { q: "48 kmph train crosses half-length train @ 42 kmph (opp. dir) in 12s. Passes platform in 45s. Platform length?", options: ["400", "450", "560", "600"], correct: 0, explain: "Rel Speed = 90 kmph = 25 m/s. Total length (L + 0.5L) = 25 * 12 = 300m => L = 200m. Speed = 48 kmph = 40/3 m/s. Dist in 45s = (40/3) * 45 = 600m. Platform = 600 - 200 = 400m." },
        { q: "A & B 110km apart. Train A (7 AM)  20 kmph. Train B (8 AM) @ 25 kmph. Meet time?", options: ["9 AM", "10 AM", "10:30 AM", "11 AM"], correct: 1, explain: "At 8 AM, Train A has covered 20km. Distance left = 90km. Rel speed = 45 kmph. Time = 90/45 = 2 hours. Meet at 8+2 = 10 AM." },
        { q: "Two trains meet, reach destinations in 9h and 16h respectively. Speed ratio?", options: ["2:3", "4:3", "6:7", "9:16"], correct: 1, explain: "S1/S2 = sqrt(T2/T1) = sqrt(16/9) = 4/3." }
    ];

    let currentIdx = 0;
    let score = 0;
    let selectedIdx = null;

    function loadQuestion() {
        const q = questions[currentIdx];
        document.getElementById('q-count').innerText = `Question ${currentIdx + 1} of ${questions.length}`;
        document.getElementById('q-text').innerText = q.q;
        
        const container = document.getElementById('options-container');
        container.innerHTML = '';
        
        q.options.forEach((opt, i) => {
            const btn = document.createElement('button');
            btn.className = 'option';
            btn.innerHTML = `<span style="font-weight:bold; margin-right:10px">${String.fromCharCode(65+i)})</span> ${opt}`;
            btn.onclick = () => selectOption(i);
            container.appendChild(btn);
        });

        document.getElementById('feedback-box').style.display = 'none';
        document.getElementById('next-btn').style.display = 'none';
        document.getElementById('check-btn').style.display = 'block';
        
        const prog = (currentIdx / questions.length) * 100;
        document.getElementById('progress-bar').style.width = prog + '%';
        selectedIdx = null;
    }

    function selectOption(idx) {
        selectedIdx = idx;
        const opts = document.querySelectorAll('.option');
        opts.forEach(o => o.classList.remove('selected'));
        opts[idx].classList.add('selected');
    }

    function handleCheck() {
        if (selectedIdx === null) return alert("Please select an option!");
        
        const q = questions[currentIdx];
        const feedback = document.getElementById('feedback-box');
        const title = document.getElementById('result-title');
        const explain = document.getElementById('explanation-content');
        
        feedback.style.display = 'block';
        if (selectedIdx === q.correct) {
            score++;
            title.innerText = "Correct!";
            feedback.className = "feedback correct";
        } else {
            title.innerText = "Incorrect.";
            feedback.className = "feedback wrong";
        }
        
        explain.innerHTML = `<strong>Explanation:</strong> ${q.explain}`;
        document.getElementById('check-btn').style.display = 'none';
        document.getElementById('next-btn').style.display = 'block';
    }

    function handleNext() {
        currentIdx++;
        if (currentIdx < questions.length) {
            loadQuestion();
        } else {
            showScore();
        }
    }

    function showScore() {
        document.getElementById('quiz-area').style.display = 'none';
        document.getElementById('score-area').style.display = 'block';
        document.getElementById('final-score').innerText = score;
        document.getElementById('progress-bar').style.width = '100%';
    }

    loadQuestion();
</script>

</body>
</html>